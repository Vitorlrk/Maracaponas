<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Tarefas</title>
    <link rel="stylesheet" href="./estilos/style.css">
    <style>
        /* Seus estilos existentes */
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>SoftLeve</h2>
        <ul>
            <li><a href="Ger_Usuario.html"><span>游논</span> Gerenciar Usu치rios</a></li>
            <li><span>丘뙖잺</span> <a href="#" onclick="generateReport()">Gerar relat칩rio</a></li>
            <li><span>游녻</span> Conta</li>
        </ul>
    </div>
    
    <div class="main-content">
        <!-- Conte칰do existente da p치gina -->
    </div>

    <script>
        function generateReport() {
            const columns = document.querySelectorAll('.task-column');
            let reportContent = "Relat칩rio de Tarefas\n\n";

            columns.forEach(column => {
                const columnTitle = column.querySelector('.column-header h3').innerText;
                const taskCards = column.querySelectorAll('.task-card');
                
                reportContent += `=== ${columnTitle} ===\n\n`;
                
                taskCards.forEach(taskCard => {
                    const taskName = taskCard.querySelector('h4').innerText;
                    const taskDescription = taskCard.querySelector('p:nth-of-type(1)').innerText;
                    const creationDate = taskCard.querySelector('p:nth-of-type(3)').innerText.replace('Cria칞칚o: ', '');
                    const dueDate = taskCard.querySelector('p:nth-of-type(2)').innerText.replace('Prazo: ', '');
                    const devResponsible = taskCard.querySelector('p:nth-of-type(4)').innerText.replace('Dev: ', '');

                    reportContent += `Tarefa: ${taskName}\n`;
                    reportContent += `Descri칞칚o: ${taskDescription}\n`;
                    reportContent += `Data de Cria칞칚o: ${creationDate}\n`;
                    reportContent += `Prazo: ${dueDate}\n`;
                    reportContent += `Desenvolvedor Respons치vel: ${devResponsible}\n\n`;
                });

                reportContent += "\n\n";
            });

            // Abrir o relat칩rio em uma nova janela ou baixar como arquivo
            downloadReport(reportContent, "Relatorio_Tarefas.txt");
        }

        function downloadReport(content, filename) {
            const blob = new Blob([content], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            link.click();
        }
    </script>
</body>
</html>
